# JASMA LIVE API

This application manages LIVE part of application. Here you find all the models and views that deal with Streams, Streamer profiles, Categories, Chat etc.

## What is implemented:

-   Creation/Editing of streamer profile and streamer settings
-   Quering streamer profiles with various query params
-   Starting/Ending live streams
-   Quering streams with different params
-   Follow/Unfollow user profile
-   Ban/unban user profile
-   Activate/Deactivate user profile
-   Report stream / user profile
-   Query reports
-   CRUD operations on Categories

## TODO:

-   Live chat
-   Live viewers count
-   Ban/unban a user in a live chat

These are to be implemented in future, I'm still figuring out how to do them properly, I'm thinking of websockets but not sure.

## Useful commands

To start the whole thing you could use these cmds from the <strong>root</strong> of the project. Make sure docker is running first.

```
npm run copycompose:dev

npm run composebuild

```

then to generate fake data for live api use this:

```
docker exec -it jasma-api-server-dev python manage.py createlivedata
```

This will create users, streamer profiles, stream live records and streamer profile settings.

## Testing

Most of the views are covered with tests. To run tests use this:

```
docker exec -it jasma-api-server-dev python manage.py test live
```

# Docs

There are autogenerated docs for this project api. To check the docs go to http://localhost/api/docs. If your docs are not generated properly, run this command after server has started in docker:

```
docker exec -it jasma-api-server-dev python manage.py collectstatic
```

This will properly collects necessary static files in root static folder
